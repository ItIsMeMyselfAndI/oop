name: Build for macOS

on: [push, pull_request]

jobs:
    build:
        runs-on: macos-latest
        steps:
            - uses: actions/checkout@v2

            - name: Set up Python
              uses: actions/setup-python@v4
              with:
                  python-version: "3.10"

            - name: Install dependencies
              run: pip install pyinstaller pillow

            - name: Build macOS app
              run: pyinstaller --windowed --onefile --icon=assets/logo/app.icns main.py

            - name: Upload Artifact
              uses: actions/upload-artifact@v3
              with:
                  name: macOS-build
                  path: dist/
